// datosParaPrueba es una variable para prueba hasta que se tenga conexion al API
const datosParaPrueba = {
  "query": "crazy+train",
  "tracks": {
    "totalCount": 900,
    "items": [
      {
        "data": {
          "uri": "spotify:track:7ACxUo21jtTHzy7ZEV56vU",
          "id": "7ACxUo21jtTHzy7ZEV56vU",
          "name": "Crazy Train",
          "albumOfTrack": {
            "uri": "spotify:album:4qUMByJ3Pk94BFnCmGaUPS",
            "name": "Blizzard Of Ozz (40th Anniversary Expanded Edition)",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02475ca6e5c1ce0ef70740c3c6",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851475ca6e5c1ce0ef70740c3c6",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273475ca6e5c1ce0ef70740c3c6",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "4qUMByJ3Pk94BFnCmGaUPS",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/4qUMByJ3Pk94BFnCmGaUPS?si=0XbwUNznToOmzUuwnoQCVw"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 293183
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:1Lm6B6aXsBhcsxrimyhkJb",
          "id": "1Lm6B6aXsBhcsxrimyhkJb",
          "name": "Crazy Train",
          "albumOfTrack": {
            "uri": "spotify:album:6eyLkYlVShYcXYiAgKVnQt",
            "name": "The Essential Ozzy Osbourne",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e0237f9796e410fa2ab45f66b1e",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000485137f9796e410fa2ab45f66b1e",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b27337f9796e410fa2ab45f66b1e",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "6eyLkYlVShYcXYiAgKVnQt",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/6eyLkYlVShYcXYiAgKVnQt?si=8A0ZTRQBT0Kw7K4rsU1q0A"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 292706
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:6lk31ijUSG5exPmV34zFkL",
          "id": "6lk31ijUSG5exPmV34zFkL",
          "name": "Crazy Train",
          "albumOfTrack": {
            "uri": "spotify:album:1jOcKmWE1mUEnyt6JdLTr8",
            "name": "TROLLS World Tour (Original Motion Picture Soundtrack)",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02392c48a03b57ac9dfb296955",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851392c48a03b57ac9dfb296955",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273392c48a03b57ac9dfb296955",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "1jOcKmWE1mUEnyt6JdLTr8",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/1jOcKmWE1mUEnyt6JdLTr8?si=k9AVZ0p4T3e3LvLx8pl3HQ"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:2tCT4ybLKzhFYsDF6ZOKAY",
                "profile": {
                  "name": "Rachel Bloom"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 194586
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:2l6mxqDEbISPOhF3k2bJ9G",
          "id": "2l6mxqDEbISPOhF3k2bJ9G",
          "name": "Crazy Train - Live 1981",
          "albumOfTrack": {
            "uri": "spotify:album:5d47ow5T5G4UqZBS4g61dH",
            "name": "Tribute",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e027888b13de7d93e75e3bea0c7",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d000048517888b13de7d93e75e3bea0c7",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b2737888b13de7d93e75e3bea0c7",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "5d47ow5T5G4UqZBS4g61dH",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/5d47ow5T5G4UqZBS4g61dH?si=V-q4nGPqQq2Dvd1JuD_hsg"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 320360
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:4YbCrtZR0vxKOEiYfuyMSX",
          "id": "4YbCrtZR0vxKOEiYfuyMSX",
          "name": "Crazy Train",
          "albumOfTrack": {
            "uri": "spotify:album:3EJB4h2jc00NMNBzvK2UsV",
            "name": "Wham Bam Shang-A-Lang: Feel Good Summer Hits",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02dfc73d0e817b365f24337479",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851dfc73d0e817b365f24337479",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273dfc73d0e817b365f24337479",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "3EJB4h2jc00NMNBzvK2UsV",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/3EJB4h2jc00NMNBzvK2UsV?si=bLZ4nKbxT0uX0Iu1kJmn9A"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 296080
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:1IeOBzoyH4Xu1ylBBCY4Qo",
          "id": "1IeOBzoyH4Xu1ylBBCY4Qo",
          "name": "Crazy Train - Live from Blizzard Of Ozz tour",
          "albumOfTrack": {
            "uri": "spotify:album:4qUMByJ3Pk94BFnCmGaUPS",
            "name": "Blizzard Of Ozz (40th Anniversary Expanded Edition)",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02475ca6e5c1ce0ef70740c3c6",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851475ca6e5c1ce0ef70740c3c6",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273475ca6e5c1ce0ef70740c3c6",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "4qUMByJ3Pk94BFnCmGaUPS",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/4qUMByJ3Pk94BFnCmGaUPS?si=0XbwUNznToOmzUuwnoQCVw"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 328140
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:0S3gpZzlT9Hb7CCSV2owX7",
          "id": "0S3gpZzlT9Hb7CCSV2owX7",
          "name": "Mama, I'm Coming Home",
          "albumOfTrack": {
            "uri": "spotify:album:6eh82ojicL8RSJF7GkYTh7",
            "name": "No More Tears (Expanded Edition)",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02c2b61984b54ad58c8d6fdd19",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851c2b61984b54ad58c8d6fdd19",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273c2b61984b54ad58c8d6fdd19",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "6eh82ojicL8RSJF7GkYTh7",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/6eh82ojicL8RSJF7GkYTh7?si=ytrwUHIySBC0qhadoFmraA"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 251866
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:4svkPL62HbvyFgf0nHFXAF",
          "id": "4svkPL62HbvyFgf0nHFXAF",
          "name": "Iron Man",
          "albumOfTrack": {
            "uri": "spotify:album:6TcPqftScGmR0aEgIb43Vv",
            "name": "The Ultimate Collection",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e02012d727b175d4a91c792fb4c",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d00004851012d727b175d4a91c792fb4c",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b273012d727b175d4a91c792fb4c",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "6TcPqftScGmR0aEgIb43Vv",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/6TcPqftScGmR0aEgIb43Vv?si=QjsxVKjzReaTyerWe07-9A"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:5M52tdBnJaKSvOpJGz8mfZ",
                "profile": {
                  "name": "Black Sabbath"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 354773
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:1kMumebMfCEUq6uznjuL1q",
          "id": "1kMumebMfCEUq6uznjuL1q",
          "name": "Crazy Train - 2002 Version",
          "albumOfTrack": {
            "uri": "spotify:album:7aRveWNGyOxjppMDpUgBIi",
            "name": "The Osbourne Family Album",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e025c44e8fe6429f17769ec2615",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d000048515c44e8fe6429f17769ec2615",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b2735c44e8fe6429f17769ec2615",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "7aRveWNGyOxjppMDpUgBIi",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/7aRveWNGyOxjppMDpUgBIi?si=bjN9aNb9QXWnRY9adh75Jw"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:6ZLTlhejhndI4Rh53vYhrY",
                "profile": {
                  "name": "Ozzy Osbourne"
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 290093
          },
          "playability": {
            "playable": true
          }
        }
      },
      {
        "data": {
          "uri": "spotify:track:5ffKSi0pfdd7H2inNdg1S5",
          "id": "5ffKSi0pfdd7H2inNdg1S5",
          "name": "That Was A Crazy Game of Poker",
          "albumOfTrack": {
            "uri": "spotify:album:6Oi9ZlpYv0Uv7xrsFJXjzZ",
            "name": "The Wanderer",
            "coverArt": {
              "sources": [
                {
                  "url": "https://i.scdn.co/image/ab67616d00001e020ec5f8c18ef5ef2168cd212b",
                  "width": 300,
                  "height": 300
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d000048510ec5f8c18ef5ef2168cd212b",
                  "width": 64,
                  "height": 64
                },
                {
                  "url": "https://i.scdn.co/image/ab67616d0000b2730ec5f8c18ef5ef2168cd212b",
                  "width": 640,
                  "height": 640
                }
              ]
            },
            "id": "6Oi9ZlpYv0Uv7xrsFJXjzZ",
            "sharingInfo": {
              "shareUrl": "https://open.spotify.com/album/6Oi9ZlpYv0Uv7xrsFJXjzZ?si=aJZjVBDvQ_qaDUf6V20NKw"
            }
          },
          "artists": {
            "items": [
              {
                "uri": "spotify:artist:1Cq0LAHFfvUTBEtMPXUidI",
                "profile": {
                  "name": "O.A.R."
                }
              }
            ]
          },
          "contentRating": {
            "label": "NONE"
          },
          "duration": {
            "totalMilliseconds": 522760
          },
          "playability": {
            "playable": true
          }
        }
      }
    ],
    "pagingInfo": {
      "nextOffset": 10,
      "limit": 10
    }
  }
}

// Convierte los datos recibidos del archivo JSON ya parseados (como objeto)
// y retorna un objeto simplificado con solo los datos que queremos
function extraerMusicas(datos, buscar) {
    // Primero sacamos solo los tracks
    const soloTracks = datos.tracks.items;
    // Luego mapeamos a un nuevo array solo los datos que nos interesan
    // Cada elemento del array seran un objeto con id, name, artist, album y coverArt
    const soloTracksResumido = soloTracks.map(dato => ({
        id: dato.data.uri,
        name: dato.data.name,
        artist: dato.data.artists.items[0].profile.name,
        album: dato.data.albumOfTrack.name,
        coverArt: dato.data.albumOfTrack.coverArt.sources[0].url
    }));
    // Creamos un objeto con los datos que nos interesan
    // El termino de busqueda y un array de los tracks
    const resultado = {
        query: buscar,
        tracks: soloTracksResumido
    }
    // Devolvemos el array nuevo
    return resultado;
}

function busquedaDeMusicas(buscar, buscarType) {
    /* La funcion recibe el termino de busqueda (buscar) y el tipo (buscarType) */
    /* Se realiza la solicitud a la API de Spotify */
    /* Cuando se tienen los resultados, hay que formatearlos */
    const resultadoFormateado = extraerMusicas(datosParaPrueba, buscar);
    /* Se retorna el resultado como un objeto */
    return resultadoFormateado;
}

export default busquedaDeMusicas